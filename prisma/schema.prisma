generator client {
  provider = "prisma-client-js"
  binaryTargets = ["native", "debian-openssl-3.0.x"]
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}


model User {
  id      String   @id @default(auto()) @map("_id") @db.ObjectId
  email   String   @unique
  name    String?
  
}

model Product {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId 
  name        String
  price       String
  description String
  estoque     Int
  categoria   String


  upload     Upload?
}


model Upload {
  id         String       @id   @default(auto())  @map("_id")  @db.ObjectId
  location   String
  key        String
  bucket     String


  product    Product @relation(fields: [prodId], references: [id], onDelete: Cascade) 
  prodId    String  @unique  @db.ObjectId
}